<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Upload</title>
	<style type="text/css">
		.filename{
			margin: 2px 0;
		}
		.processbar{
			height: 2px;
			background: #ddd;
		}
		.processbar i{
			display: block;
			background: #f00;
			height: 100%;
			width: 0.1%;
		}
	</style>
</head>
<body>
	<div>
		<h2>upload</h2>
		<button class="upload">Upload</button>
		<button id="start">start</button>
	</div>
	<hr>
	<div>
		<h2>auto upload</h2>
		<div id="processContainer"></div>
		<button class="autoupload">autoupload</button>
	</div>
	<footer>
		<script type="text/javascript" src="http://cdn.bootcss.com/jquery/3.0.0/jquery.min.js"></script>
		<script type="text/javascript" src="/upload.js"></script>
		<script type="text/javascript">

			$('.upload').uploadFile(
			{
				auto:false,
				multiple:false,
				startBtn:'#start',
				url:'http://media.suconghou.cn/upload.php',
				data:[1,2,3,4,{'a':'a','b':334455}],
				dataType:'html',
				success:function(data)
				{
					alert('finished');
				},
				error:function()
				{
					alert('error');
				},
				onprogress:function(e)
				{
					console.log(e);
				}
			});

			$('.autoupload').uploadFile(
			{
				processbar:true,
				processContainer:'#processContainer',
				url:'http://media.suconghou.cn/upload.php',
				data:[1,2,3,4],
				dataType:'html',
				before:function(config)
				{
					console.log(config);
					config.data=['hi','hello','set new data'];
				},
				error:function()
				{
					alert('error');
				},
				success:function(data)
				{
					alert('finished');
				}
			});

		</script>
	</footer>
</body>
</html>
